{
  "id": "0003",
  "title": "Reusable validation helpers (length, enum, URL)",
  "epic": "Epic 1. Data Layer",
  "task": {
    "description": "Implement lightweight validation helpers for common checks used by API routes and models: string length bounds with clear messages, http/https URL validation, and literal enum membership checks to standardize 400 validation behavior.",
    "acceptance_criteria": [
      "`validateStringLen('',{min:1,max:3})` returns a non-null string; `validateStringLen('ab',{min:1,max:3})` returns null.",
      "`validateStringLen('abcd',{min:1,max:3})` returns a non-null string mentioning bounds (min/max or length).",
      "`isValidHttpUrl('https://example.com/x')` is true; `isValidHttpUrl('ftp://x')` and `isValidHttpUrl('not-a-url')` are false.",
      "`oneOf('draft',['draft','generated'])` is true and `oneOf('x',['draft'])` is false.",
      "`next build` completes successfully."
    ]
  },
  "covers": [
    "F1-AC1",
    "F1-AC2",
    "F3-AC1",
    "F6-AC5",
    "F8-AC2"
  ],
  "files": [
    "src/lib/validation.ts"
  ],
  "definition_of_done": [
    "All functions are exported and have unit-testable signatures (no DB coupling).",
    "No external packages are added.",
    "Build passes with strict TypeScript."
  ],
  "depends_on": [
    "0002"
  ],
  "db_schema": "",
  "api_contract": "",
  "dependencies": [],
  "ui_requirements": ""
}